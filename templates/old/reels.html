<!-- templates/includes/reels.html -->
<div class="reels-container">
  <div class="reels-wrapper" id="reelsSlider">
    {% for realestate in realestates %}
      {% if realestate.video %}
      <div class="reels-item">
        <video src="{{ realestate.video.url }}" controls muted></video>
      </div>
      {% endif %}
    {% endfor %}
  </div>
  <button class="reels-nav prev" onclick="scrollReels(-1)">‹</button>
  <button class="reels-nav next" onclick="scrollReels(1)">›</button>
</div>

<style>
.reels-container {
  position: relative;
  overflow: hidden;
  margin: 20px 0;
}
.reels-wrapper {
  display: flex;
  overflow-x: auto;
  scroll-behavior: smooth;
}
.reels-item {
  flex: 0 0 300px;
  margin-right: 16px;
}
.reels-item video {
  width: 100%;
  height: auto;
  border-radius: 8px;
}
.reels-nav {
  position: absolute;
  top: 40%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  padding: 8px 12px;
  font-size: 24px;
  z-index: 2;
  cursor: pointer;
}
.reels-nav.prev { left: 0; }
.reels-nav.next { right: 0; }
</style>

<script>
function scrollReels(direction) {
  const slider = document.getElementById("reelsSlider");
  const scrollAmount = 320;  // width + margin
  slider.scrollLeft += direction * scrollAmount;
}
</script>
